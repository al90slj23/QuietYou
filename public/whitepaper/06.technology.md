# æŠ€æœ¯æ–¹æ¡ˆ

## æŠ€æœ¯æ ˆ

> ğŸ’¡ ä¸‹æ–¹æ€ç»´å¯¼å›¾æ”¯æŒæ‹–æ‹½ã€ç¼©æ”¾ï¼Œå¯è‡ªç”±æ¢ç´¢

```mindmap
# æŠ€æœ¯æ ˆå…¨æ™¯
## å‰ç«¯æŠ€æœ¯
### Vue 3
- å‰ç«¯æ¡†æ¶
- ç”Ÿæ€æˆç†Ÿã€æ€§èƒ½ä¼˜ç§€
### Vite
- æ„å»ºå·¥å…·
- å¼€å‘ä½“éªŒå¥½ã€æ„å»ºå¿«
### TDesign
- UI ç»„ä»¶åº“
- è…¾è®¯å‡ºå“ã€ç§»åŠ¨ç«¯å‹å¥½
### Vue Router
- è·¯ç”±ç®¡ç†
- å®˜æ–¹æ–¹æ¡ˆã€ç¨³å®šå¯é 
### Pinia
- çŠ¶æ€ç®¡ç†
- Vue 3 æ¨èã€è½»é‡
## åç«¯æŠ€æœ¯
### PHP 8
- åç«¯è¯­è¨€
- éƒ¨ç½²ç®€å•ã€ç”Ÿæ€ä¸°å¯Œ
### MySQL 8
- æ•°æ®åº“
- ç¨³å®šå¯é ã€è¿ç»´æˆç†Ÿ
### Redis
- ç¼“å­˜
- é«˜æ€§èƒ½ã€æ”¯æŒå¤šæ•°æ®ç»“æ„
### Nginx
- Web æœåŠ¡å™¨
- é«˜å¹¶å‘ã€åå‘ä»£ç†
## åŸºç¡€è®¾æ–½
### é˜¿é‡Œäº‘ ECS
- äº‘æœåŠ¡å™¨
- å¼¹æ€§è®¡ç®—
### é˜¿é‡Œäº‘ OSS
- å¯¹è±¡å­˜å‚¨
- å›¾ç‰‡ã€æ–‡ä»¶å­˜å‚¨
### é˜¿é‡Œäº‘ CDN
- é™æ€èµ„æºåŠ é€Ÿ
### é˜¿é‡Œäº‘ SMS
- çŸ­ä¿¡æœåŠ¡
- éªŒè¯ç å‘é€
### å¾®ä¿¡/æ”¯ä»˜å®
- åœ¨çº¿æ”¯ä»˜
```

## ç³»ç»Ÿæ¶æ„

> ğŸ’¡ ä¸‹æ–¹æ€ç»´å¯¼å›¾æ”¯æŒæ‹–æ‹½ã€ç¼©æ”¾ï¼Œå¯è‡ªç”±æ¢ç´¢

```mindmap
# ç³»ç»Ÿæ¶æ„
## ç”¨æˆ·è®¾å¤‡
### ç”¨æˆ·ç«¯ H5/App
### æŠ€å¸ˆç«¯ H5/App
### å•†æˆ·ç«¯ H5/App
## CDN / è´Ÿè½½å‡è¡¡
- é™æ€èµ„æºåŠ é€Ÿ
- æµé‡åˆ†å‘
- DDoS é˜²æŠ¤
## Nginx å±‚
### é™æ€èµ„æº
- /pages/* é¡µé¢
- å›¾ç‰‡/CSS/JS
### API ä»£ç†
- /api/* æ¥å£
- åå‘ä»£ç†
## PHP åº”ç”¨å±‚
### ç”¨æˆ· API
- é¢„çº¦ä¸‹å•
- è¯„ä»·åé¦ˆ
### æŠ€å¸ˆ API
- æ¥å•ç®¡ç†
- æ”¶å…¥æŸ¥çœ‹
### å•†æˆ· API
- è®¢å•ç®¡ç†
- æŠ€å¸ˆè°ƒåº¦
## æ•°æ®å±‚
### MySQL ä¸»ä»
- ä¸šåŠ¡æ•°æ®
- è¯»å†™åˆ†ç¦»
### Redis ç¼“å­˜
- ä¼šè¯ç®¡ç†
- çƒ­ç‚¹æ•°æ®
### OSS å­˜å‚¨
- å›¾ç‰‡æ–‡ä»¶
- é™æ€èµ„æº
```

## ç›®å½•ç»“æ„

```
QuietYou/
â”œâ”€â”€ src/                    # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ views/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ home/          # å®˜ç½‘
â”‚   â”‚   â”œâ”€â”€ user/          # ç”¨æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ tech/          # æŠ€å¸ˆç«¯
â”‚   â”‚   â”œâ”€â”€ merchant/      # å•†æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ admin/         # ç®¡ç†åå°
â”‚   â”œâ”€â”€ components/        # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ composables/       # ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ router/            # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ styles/            # å…¨å±€æ ·å¼
â”‚
â”œâ”€â”€ api/                    # PHP åç«¯
â”‚   â”œâ”€â”€ user/              # ç”¨æˆ·ç«¯ API
â”‚   â”œâ”€â”€ tech/              # æŠ€å¸ˆç«¯ API
â”‚   â”œâ”€â”€ merchant/          # å•†æˆ·ç«¯ API
â”‚   â””â”€â”€ admin/             # ç®¡ç†åå° API
â”‚
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ pages/                  # æ„å»ºäº§ç‰©
â”œâ”€â”€ sql/                    # æ•°æ®åº“è„šæœ¬
â””â”€â”€ docs/                   # é¡¹ç›®æ–‡æ¡£
```

## æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨ç»“æ„

| è¡¨å | è¯´æ˜ | ä¸»è¦å­—æ®µ |
|------|------|---------|
| qy_user_list | ç”¨æˆ·è¡¨ | phone, nickname, avatar |
| qy_technician_list | æŠ€å¸ˆè¡¨ | type, merchant_id, status |
| qy_merchant_list | å•†æˆ·è¡¨ | name, address, contact |
| qy_service_list | æœåŠ¡è¡¨ | name, price, duration |
| qy_order_list | è®¢å•è¡¨ | type, status, amount |
| qy_review_list | è¯„ä»·è¡¨ | scores, content |
| qy_borrow_list | å€Ÿè°ƒè¡¨ | from_merchant, to_merchant |

### æ•°æ®åº“è§„èŒƒ

- è¡¨åï¼š`qy_` å‰ç¼€ + ä¸šåŠ¡å + `_list`
- ä¸»é”®ï¼š`id` è‡ªå¢
- æ—¶é—´ï¼š`created_at`, `updated_at`
- è½¯åˆ é™¤ï¼š`deleted_at`

## API è®¾è®¡

### RESTful è§„èŒƒ

```
GET    /api/user/order/list      # è·å–åˆ—è¡¨
GET    /api/user/order/detail:1  # è·å–è¯¦æƒ…
POST   /api/user/order/create    # åˆ›å»º
POST   /api/user/order/update    # æ›´æ–°
POST   /api/user/order/delete    # åˆ é™¤
```

### å“åº”æ ¼å¼

```json
{
  "code": 0,
  "message": "success",
  "data": {
    "list": [],
    "total": 100,
    "page": 1,
    "pageSize": 20
  }
}
```

## å®‰å…¨æªæ–½

| æªæ–½ | è¯´æ˜ |
|------|------|
| HTTPS | å…¨ç«™ HTTPS åŠ å¯† |
| JWT | æ¥å£è®¤è¯ |
| å‚æ•°æ ¡éªŒ | é˜²æ­¢ SQL æ³¨å…¥ã€XSS |
| é™æµ | é˜²æ­¢æ¶æ„è¯·æ±‚ |
| æ—¥å¿— | æ“ä½œæ—¥å¿—ã€é”™è¯¯æ—¥å¿— |

## éƒ¨ç½²æ–¹æ¡ˆ

### å¼€å‘ç¯å¢ƒ

```bash
npm run dev    # å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
./go.sh 0      # å¯åŠ¨æœ¬åœ°å¼€å‘ç¯å¢ƒ
```

### ç”Ÿäº§éƒ¨ç½²

```bash
./go.sh 1      # å®Œæ•´éƒ¨ç½²ï¼ˆæ„å»º + åŒæ­¥ + é‡å¯ï¼‰
./go.sh 2      # ä»…åŒæ­¥æ–‡ä»¶
```

### æœåŠ¡å™¨é…ç½®

| é…ç½® | è§„æ ¼ |
|------|------|
| CPU | 2æ ¸ |
| å†…å­˜ | 4GB |
| å¸¦å®½ | 5Mbps |
| ç³»ç»Ÿ | CentOS 7 |
