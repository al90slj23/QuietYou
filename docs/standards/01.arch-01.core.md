# 01.arch-01.core - 核心架构原则

> **文档版本**：v1.0.0
> **创建日期**：2026-01-12
> **基于**：ZERO 框架规范

---

## 📍 文档定位

本文档定义轻养到家项目的**核心价值观和设计哲学**，是所有开发决策的基础原则。

---

## 🎯 设计哲学

### 1. Evidence > assumptions（证据胜过假设）

- 所有技术决策必须基于可验证的证据
- 避免基于假设或猜测做决定

### 2. Code > documentation（代码胜过文档）

- 代码是最准确的文档
- 文档应该解释"为什么"，代码展示"怎么做"

### 3. Simple binary > complex hierarchy（简单二元规则胜过复杂多级优先级）

```javascript
// ❌ 多级降级掩盖问题
const name = config?.shortName || config?.name || config?.title || folderName

// ✅ 简单二元，快速暴露问题
const name = config?.shortName || folderName
```

---

## 🏗️ 路径为王架构（Path is King）

### 核心理念

**文件夹路径是唯一主体**，所有其他层级从路径自动推导：

```
文件夹路径（唯一主体）
pages/admin/users/list/
        ↓ 自动映射
数据库表：admin_users_list
API路径：/api/admin/users/list
权限标识：admin.users.list
```

### 映射规则

| 源 | 目标 | 转换规则 |
|---|------|---------|
| 文件夹路径 | 数据库表 | 下划线连接所有层级 |
| 文件夹路径 | API路径 | 保持一致，加 `/api/` 前缀 |
| 文件夹路径 | 权限标识 | 点号连接 |

---

## 🧠 AI 协作准则

### 1. 职责分工
- AI 负责实现，人类负责决策
- AI 不应该替人类做决策

### 2. 命名确认机制（强制执行）
- 创建新目录、文件、功能模块时，AI 必须先提供英文命名建议
- 等待用户确认后再创建

### 3. 最小化输出
- 直接回答问题，避免不必要的前言和后记
- 输出应该简洁、精准、可操作

---

## 🛡️ 文件操作安全规范

### 删除操作规范（零容忍）

**禁止使用的命令**：
```bash
❌ rm -rf directory/          # 永久删除，无法恢复
❌ rm -f file.txt             # 强制删除，无法恢复
```

**必须使用的安全方法**：
```bash
✅ mv directory ~/.Trash/     # macOS：移动到回收站
✅ mv directory /tmp/backup_$(date +%Y%m%d)/  # 临时备份
```

---

**最后更新**：2026-01-12
