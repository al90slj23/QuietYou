# 04.quality-03.header - 文件头注释规范

> **文档版本**：v1.0.0
> **创建日期**：2026-01-12
> **基于**：ZERO 框架规范

---

## 📍 文档定位

本文档定义**文件头注释的模板与规范**。核心理念是"文件自包含文档化"。

---

## 🎯 核心优势

1. **AI 开发友好**：AI 读取文件时立即获得完整设计思路
2. **文档代码强一致**：文档与代码在同一文件，修改时强制同步更新
3. **高效检索维护**：无需跳转多个文件即可理解功能全貌

---

## 📝 标准注释模板

### PHP 文件

```php
<?php
/**
 * ================================================================
 * 文件名: [完整文件名]
 * 创建时间: YYYY-MM-DD
 * ================================================================
 *
 * 【文件职责】
 * [简述 API/控制器的主要功能]
 *
 * 【API接口】
 * - GET /api/path: [功能说明]
 * - POST /api/path: [功能说明]
 *
 * 【主要方法】
 * - methodName1(): [方法说明]
 *
 * ================================================================
 */
```

### JavaScript / Vue 文件

```javascript
/**
 * ================================================================
 * 文件名: [完整文件名.扩展名]
 * 创建时间: YYYY-MM-DD
 * ================================================================
 *
 * 【文件职责】
 * [1-3句话简述文件的核心职责和主要功能]
 *
 * 【核心架构】
 * 1. [核心架构点1]
 * 2. [核心架构点2]
 *
 * 【主要函数】
 * - functionName1(): 函数1的作用说明
 * - functionName2(): 函数2的作用说明
 *
 * 【依赖关系】
 * - 内部模块: @/utils/xxx
 * - 外部API: /api/v1/xxx
 *
 * ================================================================
 */
```

### Shell 脚本

```bash
#!/bin/bash
# ================================================================
# 文件名: [完整文件名]
# 中文名: [功能描述]
# 创建时间: YYYY-MM-DD
# ================================================================
#
# 【文件职责】
# [描述脚本的主要功能]
#
# 【执行流程】
# 1. [步骤1]
# 2. [步骤2]
#
# ================================================================
```

### 配置文件（YAML/JSON）

```yaml
# ================================================================
# 文件名: [完整文件名]
# 创建时间: YYYY-MM-DD
# ================================================================
#
# 【配置说明】
# [配置文件的主要用途和作用范围]
#
# 【结构说明】
# - section1: [配置节说明]
# - section2: [配置节说明]
#
# ================================================================
```

---

## 📋 必需字段

### 基础信息区（强制）

| 字段 | 说明 | 举例 |
|------|------|------|
| 文件名 | 完整文件名，包含扩展名 | `list.api.php` |
| 创建时间 | YYYY-MM-DD 格式 | `2026-01-12` |

### 功能说明区（强制）

| 字段 | 说明 |
|------|------|
| 【文件职责】 | 1-3 句话概括文件的核心职责 |

### 可选字段

| 字段 | 适用场景 |
|------|---------|
| 【核心架构】 | 复杂逻辑文件 |
| 【主要函数】 | 包含多个函数的文件 |
| 【API接口】 | API 入口文件 |
| 【依赖关系】 | 有外部依赖的文件 |
| 【执行流程】 | 脚本文件 |

---

## 🔄 同步更新规则

- 修改代码时，**必须**同步更新文件头注释
- 新增函数时，**必须**在【主要函数】中添加说明
- 修改依赖时，**必须**更新【依赖关系】

---

## 📁 适用范围

- ✅ PHP API 文件
- ✅ JavaScript/Vue 文件
- ✅ Shell 脚本
- ✅ 配置文件
- ❌ 自动生成的文件
- ❌ 第三方库文件
- ❌ 构建产物

---

## ✅ 检查清单

- [ ] 有文件名和创建时间
- [ ] 有【文件职责】描述
- [ ] 修改代码时同步更新注释

---

**最后更新**：2026-01-12
