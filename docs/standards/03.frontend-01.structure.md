# 03.frontend-01.structure - å‰ç«¯ç»“æ„è§„èŒƒ

> **æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0.0
> **åˆ›å»ºæ—¥æœŸ**ï¼š2026-01-12
> **åŸºäº**ï¼šZERO æ¡†æ¶è§„èŒƒ

---

## ğŸ“ æ–‡æ¡£å®šä½

æœ¬æ–‡æ¡£å®šä¹‰è½»å…»åˆ°å®¶é¡¹ç›®çš„**å‰ç«¯æ–‡ä»¶å‘½åå’Œç»“æ„è§„èŒƒ**ã€‚

---

## ğŸ¯ æ ¸å¿ƒç†å¿µ

1. **Monorepo æ¶æ„**ï¼šå¤šåº”ç”¨å…±äº«ä»£ç 
2. **TDesign UI**ï¼šç»Ÿä¸€ä½¿ç”¨ TDesign ç»„ä»¶åº“
3. **èŒè´£åˆ†ç¦»**ï¼šè§†å›¾ã€é€»è¾‘ã€æ ·å¼åˆ†ç¦»

---

## ğŸ“ å‰ç«¯ç›®å½•ç»“æ„

### apps/ - Vue åº”ç”¨

```
apps/
â”œâ”€â”€ home/                   # å®˜ç½‘é¦–é¡µ
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ vite.config.js
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ App.vue
â”‚       â”œâ”€â”€ main.js
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â”œâ”€â”€ Header.vue
â”‚       â”‚   â””â”€â”€ Footer.vue
â”‚       â”œâ”€â”€ views/
â”‚       â”‚   â”œâ”€â”€ Home.vue
â”‚       â”‚   â”œâ”€â”€ About.vue
â”‚       â”‚   â”œâ”€â”€ Contact.vue
â”‚       â”‚   â”œâ”€â”€ Download.vue
â”‚       â”‚   â”œâ”€â”€ Privacy.vue
â”‚       â”‚   â””â”€â”€ Terms.vue
â”‚       â””â”€â”€ styles/
â”‚           â””â”€â”€ main.scss
â”‚
â””â”€â”€ user/                   # ç”¨æˆ·ç«¯
    â”œâ”€â”€ index.html
    â”œâ”€â”€ package.json
    â”œâ”€â”€ vite.config.js
    â””â”€â”€ src/
        â”œâ”€â”€ App.vue
        â”œâ”€â”€ main.js
        â”œâ”€â”€ router/
        â”œâ”€â”€ views/
        â””â”€â”€ styles/
```

### packages/ - å…±äº«ä»£ç 

```
packages/
â””â”€â”€ shared/
    â””â”€â”€ common/
        â”œâ”€â”€ api/
        â”‚   â””â”€â”€ index.js    # API è¯·æ±‚å°è£…
        â””â”€â”€ styles/
            â””â”€â”€ variables.scss  # å…±äº«å˜é‡
```

---

## ğŸ¨ UI æ¡†æ¶è§„èŒƒ

### é»˜è®¤ UI æ¡†æ¶

è½»å…»åˆ°å®¶é¡¹ç›®é‡‡ç”¨ **TDesign** ä½œä¸º UI ç»„ä»¶åº“ï¼š

- **ç§»åŠ¨ç«¯**ï¼š`tdesign-mobile-vue`
- **PCç«¯**ï¼š`tdesign-vue-next`
- **å›¾æ ‡åº“**ï¼š`tdesign-icons-vue-next`

### å›¾æ ‡ä½¿ç”¨

```vue
<template>
  <!-- å¯¼å…¥ä½¿ç”¨ -->
  <MobileIcon size="24px" />
  <CallIcon size="24px" />
  <MailIcon size="24px" />
</template>

<script setup>
import { MobileIcon, CallIcon, MailIcon } from 'tdesign-icons-vue-next'
</script>
```

### ç¦æ­¢ä½¿ç”¨ Emoji

åœ¨æ­£å¼çš„äº§å“ç•Œé¢ä¸­ï¼Œ**ç¦æ­¢ä½¿ç”¨ Emoji ä½œä¸ºå›¾æ ‡æˆ–è£…é¥°**ã€‚

```
âŒ ğŸ† ä¸“ä¸šè®¤è¯
âœ… ä¸“ä¸šè®¤è¯ï¼ˆé…åˆ TDesign Iconï¼‰

âŒ ğŸ“± ä¸‹è½½ App
âœ… ä¸‹è½½ Appï¼ˆé…åˆ <MobileIcon />ï¼‰
```

### å¼¹çª—äº¤äº’è§„èŒƒ

æ‰€æœ‰å¼¹çª—ï¼ˆDialogã€Popupã€Drawer ç­‰ï¼‰å¿…é¡»æ”¯æŒ**ç‚¹å‡»å¤–éƒ¨åŒºåŸŸå…³é—­**ï¼š

```vue
<!-- PCç«¯ Dialog - é»˜è®¤æ”¯æŒç‚¹å‡»é®ç½©å…³é—­ -->
<t-dialog v-model:visible="showDialog" header="æ ‡é¢˜">
  å†…å®¹
</t-dialog>

<!-- ç§»åŠ¨ç«¯ Popup - é»˜è®¤æ”¯æŒç‚¹å‡»é®ç½©å…³é—­ -->
<t-popup v-model="showPopup" placement="bottom">
  å†…å®¹
</t-popup>
```

**æ³¨æ„**ï¼šTDesign ç»„ä»¶é»˜è®¤å·²æ”¯æŒæ­¤è¡Œä¸ºï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚å¦‚éœ€ç¦ç”¨ï¼ˆä¸æ¨èï¼‰ï¼Œå¯è®¾ç½® `closeOnOverlayClick: false`ã€‚

---

## ğŸ“‹ æ–‡ä»¶å‘½åè§„èŒƒ

### Vue ç»„ä»¶å‘½å

| ç±»å‹ | å‘½åè§„åˆ™ | ä¸¾ä¾‹ |
|------|---------|------|
| é¡µé¢ç»„ä»¶ | å¤§é©¼å³° | `Home.vue`, `About.vue` |
| é€šç”¨ç»„ä»¶ | å¤§é©¼å³° | `Header.vue`, `Footer.vue` |
| å¸ƒå±€ç»„ä»¶ | å¤§é©¼å³° + Layout | `MainLayout.vue` |

### ç›®å½•å‘½å

| ç›®å½• | å‘½åè§„åˆ™ | è¯´æ˜ |
|------|---------|------|
| `views/` | å°å†™ | é¡µé¢ç»„ä»¶ |
| `components/` | å°å†™ | é€šç”¨ç»„ä»¶ |
| `styles/` | å°å†™ | æ ·å¼æ–‡ä»¶ |
| `router/` | å°å†™ | è·¯ç”±é…ç½® |

---

## ğŸ“± å“åº”å¼ç»„ä»¶ç»“æ„

### æ ‡å‡†ç»“æ„

å¯¹äºéœ€è¦åŒºåˆ† PC å’Œç§»åŠ¨ç«¯çš„é¡µé¢ï¼Œé‡‡ç”¨ä»¥ä¸‹ç»“æ„ï¼š

```
views/home/Home/
â”œâ”€â”€ index.vue        # ä¸»å…¥å£ï¼ˆè®¾å¤‡æ£€æµ‹ + è·¯ç”±ï¼‰
â”œâ”€â”€ index.pc.vue     # PC ç‰ˆæœ¬
â””â”€â”€ index.mobile.vue # ç§»åŠ¨ç‰ˆæœ¬
```

### index.vue æ¨¡æ¿

```vue
<template>
  <component :is="currentComponent" />
</template>

<script setup>
import { computed } from 'vue'
import { useMediaQuery } from '@/composables/useMediaQuery'
import PcVersion from './index.pc.vue'
import MobileVersion from './index.mobile.vue'

const { isMobile } = useMediaQuery()
const currentComponent = computed(() => isMobile.value ? MobileVersion : PcVersion)
</script>
```

### ä»…ç§»åŠ¨ç«¯é¡µé¢

å¯¹äº user/tech/merchant ç­‰ä»…æ”¯æŒç§»åŠ¨ç«¯çš„åº”ç”¨ï¼š

```
views/user/
â”œâ”€â”€ index.vue        # ä¸»å…¥å£ï¼ˆè®¾å¤‡æ£€æµ‹ï¼‰
â”œâ”€â”€ index.pc.vue     # PCç«¯æ˜¾ç¤º"è¯·ä½¿ç”¨ç§»åŠ¨ç«¯è®¿é—®"
â””â”€â”€ index.mobile.vue # ç§»åŠ¨ç«¯æ­£å¸¸å†…å®¹
```

**PCç«¯æç¤ºç»„ä»¶**ï¼šä½¿ç”¨ `src/components/common/MobileOnlyTip.vue`

---

## âš ï¸ TDesign ç»„ä»¶æ³¨æ„äº‹é¡¹

### ç§»åŠ¨ç«¯ç»„ä»¶ (tdesign-mobile-vue)

ä»¥ä¸‹ç»„ä»¶åœ¨ç§»åŠ¨ç«¯**ä¸å­˜åœ¨**ï¼Œéœ€è¦æ›¿ä»£æ–¹æ¡ˆï¼š

| ä¸å­˜åœ¨çš„ç»„ä»¶ | æ›¿ä»£æ–¹æ¡ˆ |
|-------------|---------|
| `Dropdown` | `ActionSheet` æˆ– `Popup` |
| `Table` | è‡ªå®šä¹‰åˆ—è¡¨ |
| `Menu` | `TabBar` æˆ– `Navbar` |

### å›¾æ ‡åº“ (tdesign-icons-vue-next)

ä»¥ä¸‹å›¾æ ‡**ä¸å­˜åœ¨**ï¼Œéœ€è¦æ›¿ä»£ï¼š

| ä¸å­˜åœ¨çš„å›¾æ ‡ | æ›¿ä»£æ–¹æ¡ˆ |
|-------------|---------|
| `EmptyIcon` | `InfoCircleIcon` æˆ–è‡ªå®šä¹‰ç©ºçŠ¶æ€ |

**å»ºè®®**ï¼šä½¿ç”¨å‰å…ˆåœ¨ [TDesign Icons](https://tdesign.tencent.com/vue-next/components/icon) ç¡®è®¤å›¾æ ‡æ˜¯å¦å­˜åœ¨ã€‚

### ç»„ä»¶å¯¼å…¥ç¤ºä¾‹

```vue
<script setup>
// ç§»åŠ¨ç«¯ç»„ä»¶
import { Button as TButton, ActionSheet as TActionSheet } from 'tdesign-mobile-vue'

// PCç«¯ç»„ä»¶
import { Button as TButton, Dropdown as TDropdown } from 'tdesign-vue-next'

// å›¾æ ‡ï¼ˆé€šç”¨ï¼‰
import { UserIcon, LocationIcon, StarIcon } from 'tdesign-icons-vue-next'
</script>
```

---

## ğŸ“ æ–‡ä»¶å¤§å°è§„èŒƒ

| æ–‡ä»¶ç±»å‹ | æ¨è | ä¸Šé™ | å¼ºåˆ¶é‡æ„ |
|---------|------|------|---------|
| Vue ç»„ä»¶ | 200-400 | 600 | >800 |
| æ ·å¼æ–‡ä»¶ | 200-400 | 600 | >1000 |
| è·¯ç”±é…ç½® | 50-100 | 200 | >300 |

---

## ğŸ”§ Vite é…ç½®è§„èŒƒ

### åŸºç¡€é…ç½®

```javascript
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import { resolve } from 'path'

export default defineConfig({
  plugins: [vue()],
  base: '/user/',  // æ ¹æ®åº”ç”¨è°ƒæ•´
  resolve: {
    alias: {
      '@': resolve(__dirname, 'src'),
      '@shared': resolve(__dirname, '../../packages/shared'),
      '@common': resolve(__dirname, '../../packages/shared/common')
    }
  },
  build: {
    outDir: '../../pages/user',  // æ„å»ºè¾“å‡ºç›®å½•
    emptyOutDir: true
  },
  server: {
    port: 3001,
    proxy: {
      '/api': {
        target: 'http://qy.im.sh.cn',
        changeOrigin: true
      }
    }
  }
})
```

---

## ğŸš€ æ„å»ºéƒ¨ç½²

### æ„å»ºå‘½ä»¤

```bash
# æ„å»ºå®˜ç½‘
cd apps/home && npm run build

# æ„å»ºç”¨æˆ·ç«¯
cd apps/user && npm run build
```

### æ„å»ºè¾“å‡º

| åº”ç”¨ | è¾“å‡ºç›®å½• | è®¿é—®åœ°å€ |
|------|---------|---------|
| home | `pages/home/` | `https://qy.im.sh.cn/` |
| user | `pages/user/` | `https://qy.im.sh.cn/user/` |

---

**æœ€åæ›´æ–°**ï¼š2026-01-12
