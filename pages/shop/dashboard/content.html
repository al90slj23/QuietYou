<div class="page-container shop-dashboard">
  <!-- å•†å®¶ä¿¡æ¯å¡ç‰‡ -->
  <div class="card shop-info-card">
    <div class="shop-profile">
      <img class="shop-logo" src="https://via.placeholder.com/60" alt="åº—é“ºLogo">
      <div class="shop-info">
        <div class="shop-name">è½»å…»å…»ç”Ÿé¦†ï¼ˆæœé˜³åº—ï¼‰</div>
        <div class="shop-status">
          <span class="status-badge status-active">è¥ä¸šä¸­</span>
          <span class="shop-rating">â­ 4.8åˆ†</span>
        </div>
      </div>
    </div>
  </div>

  <!-- ä»Šæ—¥æ•°æ® -->
  <div class="card">
    <div class="card-title flex-between">
      <span>ä»Šæ—¥æ•°æ®</span>
      <span class="text-secondary" style="font-size:12px;font-weight:normal;">2026-01-11</span>
    </div>
    <div class="stats-grid">
      <div class="stat-item">
        <div class="stat-value" id="todayOrders">8</div>
        <div class="stat-label">è®¢å•æ•°</div>
      </div>
      <div class="stat-item">
        <div class="stat-value" id="todayRevenue">2,580</div>
        <div class="stat-label">è¥ä¸šé¢(å…ƒ)</div>
      </div>
      <div class="stat-item">
        <div class="stat-value" id="onlineTechs">5</div>
        <div class="stat-label">åœ¨çº¿æŠ€å¸ˆ</div>
      </div>
    </div>
  </div>

  <!-- æœ¬æœˆæ¦‚è§ˆ -->
  <div class="card">
    <div class="card-title">æœ¬æœˆæ¦‚è§ˆ</div>
    <div class="month-overview">
      <div class="overview-item">
        <div class="overview-label">æ€»è®¢å•</div>
        <div class="overview-value">156</div>
        <div class="overview-trend up">â†‘ 12%</div>
      </div>
      <div class="overview-item">
        <div class="overview-label">æ€»è¥ä¸šé¢</div>
        <div class="overview-value">Â¥38,560</div>
        <div class="overview-trend up">â†‘ 8%</div>
      </div>
      <div class="overview-item">
        <div class="overview-label">å•†å®¶åˆ†æˆ</div>
        <div class="overview-value">Â¥7,712</div>
        <div class="overview-trend up">â†‘ 8%</div>
      </div>
      <div class="overview-item">
        <div class="overview-label">å¹³å‡è¯„åˆ†</div>
        <div class="overview-value">4.8</div>
        <div class="overview-trend">æŒå¹³</div>
      </div>
    </div>
  </div>

  <!-- æŠ€å¸ˆçŠ¶æ€ -->
  <div class="card">
    <div class="card-title flex-between">
      <span>æŠ€å¸ˆçŠ¶æ€</span>
      <span class="text-secondary" style="font-size:12px;font-weight:normal;cursor:pointer;" onclick="SHOP.navigateTo('technician/list')">ç®¡ç† ></span>
    </div>
    <div class="tech-status-list" id="techStatusList">
      <!-- åŠ¨æ€ç”Ÿæˆ -->
    </div>
  </div>

  <!-- æœ€è¿‘è®¢å• -->
  <div class="card">
    <div class="card-title flex-between">
      <span>æœ€è¿‘è®¢å•</span>
      <span class="text-secondary" style="font-size:12px;font-weight:normal;cursor:pointer;" onclick="SHOP.navigateTo('order/list')">å…¨éƒ¨ ></span>
    </div>
    <div class="recent-orders" id="recentOrders">
      <!-- åŠ¨æ€ç”Ÿæˆ -->
    </div>
  </div>

  <!-- å¿«æ·æ“ä½œ -->
  <div class="card">
    <div class="card-title">å¿«æ·æ“ä½œ</div>
    <div class="quick-actions">
      <div class="quick-action-item" onclick="SHOP.navigateTo('technician/invite')">
        <div class="quick-action-icon">â•</div>
        <div class="quick-action-label">é‚€è¯·æŠ€å¸ˆ</div>
      </div>
      <div class="quick-action-item" onclick="SHOP.navigateTo('order/list')">
        <div class="quick-action-icon">ğŸ“‹</div>
        <div class="quick-action-label">è®¢å•ç®¡ç†</div>
      </div>
      <div class="quick-action-item" onclick="SHOP.navigateTo('finance')">
        <div class="quick-action-icon">ğŸ’°</div>
        <div class="quick-action-label">è´¢åŠ¡ç®¡ç†</div>
      </div>
      <div class="quick-action-item" onclick="SHOP.navigateTo('profile')">
        <div class="quick-action-icon">âš™ï¸</div>
        <div class="quick-action-label">åº—é“ºè®¾ç½®</div>
      </div>
    </div>
  </div>
</div>

<style>
.shop-info-card {
  background: linear-gradient(135deg, var(--primary-color) 0%, #ff8c00 100%);
  color: #fff;
}

.shop-profile {
  display: flex;
  align-items: center;
  gap: 12px;
}

.shop-logo {
  width: 60px;
  height: 60px;
  border-radius: 8px;
  border: 2px solid rgba(255,255,255,0.3);
}

.shop-info {
  flex: 1;
}

.shop-name {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 4px;
}

.shop-status {
  display: flex;
  align-items: center;
  gap: 8px;
}

.status-badge {
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 12px;
}

.status-active {
  background: rgba(255,255,255,0.2);
  color: #fff;
}

.shop-rating {
  font-size: 12px;
  opacity: 0.9;
}

.month-overview {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.overview-item {
  padding: 12px;
  background: var(--bg-color);
  border-radius: 8px;
}

.overview-label {
  font-size: 12px;
  color: var(--text-secondary);
  margin-bottom: 4px;
}

.overview-value {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
}

.overview-trend {
  font-size: 12px;
  color: var(--text-placeholder);
  margin-top: 4px;
}

.overview-trend.up {
  color: var(--success-color);
}

.overview-trend.down {
  color: var(--danger-color);
}

.tech-status-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.tech-status-item {
  display: flex;
  align-items: center;
  padding: 8px;
  background: var(--bg-color);
  border-radius: 8px;
}

.tech-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-right: 12px;
}

.tech-info {
  flex: 1;
}

.tech-name {
  font-size: 14px;
  font-weight: 500;
}

.tech-orders {
  font-size: 12px;
  color: var(--text-secondary);
}

.tech-status {
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 12px;
}

.tech-status.online {
  background: #e8f5e9;
  color: var(--success-color);
}

.tech-status.busy {
  background: #fff3e0;
  color: #ff9800;
}

.tech-status.offline {
  background: #f5f5f5;
  color: var(--text-placeholder);
}

.recent-orders {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.recent-order-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px;
  background: var(--bg-color);
  border-radius: 8px;
}

.order-info {
  flex: 1;
}

.order-service {
  font-size: 14px;
  font-weight: 500;
  margin-bottom: 4px;
}

.order-tech {
  font-size: 12px;
  color: var(--text-secondary);
}

.order-amount {
  font-size: 16px;
  font-weight: 600;
  color: var(--danger-color);
}

.quick-actions {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
}

.quick-action-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 12px 8px;
  cursor: pointer;
}

.quick-action-icon {
  font-size: 28px;
  margin-bottom: 8px;
}

.quick-action-label {
  font-size: 12px;
  color: var(--text-secondary);
}
</style>

<script>
(function() {
  // æ¨¡æ‹ŸæŠ€å¸ˆçŠ¶æ€æ•°æ®
  const technicians = [
    { id: 1, name: 'å¼ å¸ˆå‚…', avatar: 'https://via.placeholder.com/40', status: 'online', todayOrders: 3 },
    { id: 2, name: 'æå¸ˆå‚…', avatar: 'https://via.placeholder.com/40', status: 'busy', todayOrders: 2 },
    { id: 3, name: 'ç‹å¸ˆå‚…', avatar: 'https://via.placeholder.com/40', status: 'online', todayOrders: 2 },
    { id: 4, name: 'èµµå¸ˆå‚…', avatar: 'https://via.placeholder.com/40', status: 'offline', todayOrders: 1 },
    { id: 5, name: 'é™ˆå¸ˆå‚…', avatar: 'https://via.placeholder.com/40', status: 'online', todayOrders: 0 }
  ];

  // æ¨¡æ‹Ÿæœ€è¿‘è®¢å•
  const recentOrders = [
    { id: 'ORD001', service: 'ä¸­å¼æ¨æ‹¿ 60åˆ†é’Ÿ', tech: 'å¼ å¸ˆå‚…', amount: 298, time: '14:30' },
    { id: 'ORD002', service: 'è‚©é¢ˆèˆ’ç¼“ 45åˆ†é’Ÿ', tech: 'æå¸ˆå‚…', amount: 198, time: '13:00' },
    { id: 'ORD003', service: 'è¶³åº•æŒ‰æ‘© 90åˆ†é’Ÿ', tech: 'ç‹å¸ˆå‚…', amount: 358, time: '11:30' }
  ];

  // çŠ¶æ€æ–‡æœ¬æ˜ å°„
  const statusTextMap = {
    'online': 'åœ¨çº¿',
    'busy': 'æœåŠ¡ä¸­',
    'offline': 'ç¦»çº¿'
  };

  // åˆå§‹åŒ–
  function init() {
    renderTechStatus();
    renderRecentOrders();
  }

  // æ¸²æŸ“æŠ€å¸ˆçŠ¶æ€
  function renderTechStatus() {
    const container = document.getElementById('techStatusList');
    
    container.innerHTML = technicians.slice(0, 4).map(tech => `
      <div class="tech-status-item">
        <img class="tech-avatar" src="${tech.avatar}" alt="${tech.name}">
        <div class="tech-info">
          <div class="tech-name">${tech.name}</div>
          <div class="tech-orders">ä»Šæ—¥ ${tech.todayOrders} å•</div>
        </div>
        <span class="tech-status ${tech.status}">${statusTextMap[tech.status]}</span>
      </div>
    `).join('');
  }

  // æ¸²æŸ“æœ€è¿‘è®¢å•
  function renderRecentOrders() {
    const container = document.getElementById('recentOrders');
    
    container.innerHTML = recentOrders.map(order => `
      <div class="recent-order-item" onclick="SHOP.navigateTo('order/detail', {id: '${order.id}'})">
        <div class="order-info">
          <div class="order-service">${order.service}</div>
          <div class="order-tech">${order.tech} Â· ${order.time}</div>
        </div>
        <div class="order-amount">Â¥${order.amount}</div>
      </div>
    `).join('');
  }

  init();
})();
</script>
