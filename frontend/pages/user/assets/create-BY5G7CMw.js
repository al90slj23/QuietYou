import{r as n,v as D,q as Q,c as b,b as o,e as l,u as W,j as X,i as s,f as V,F as q,g as I,t as $,p as N,k as u,l as Z,y as z,T as k}from"./index-C4JFp0gR.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";const te={class:"order-create-page"},le={class:"card"},ae={class:"card"},ne={class:"tech-list"},oe=["onClick"],se={class:"tech-avatar"},ie={class:"tech-name"},re={class:"tech-rating"},de={class:"card"},ue={class:"card"},ce={class:"card"},ve={class:"bottom-bar"},me={class:"price-info"},pe={class:"price-value"},_e={__name:"create",setup(fe){const x=X(),c=Q(),y=n([{id:1,name:"全身中式推拿",duration:60,price:298},{id:2,name:"肩颈深度调理",duration:45,price:198},{id:3,name:"背部推拿放松",duration:45,price:218}]),w=n([{id:1,name:"张师傅",rating:4.9},{id:2,name:"李师傅",rating:4.8},{id:3,name:"王师傅",rating:4.9}]),i=n(null),v=n(null),g=n(""),C=n(""),B=n(new Date),T=n(""),r=n({name:"张先生",phone:"138****8888",detail:"上海市浦东新区陆家嘴环路1000号 恒生银行大厦 1801室"}),m=n(!1),p=n(!1),P=n([{label:"09:00",value:"09:00"},{label:"10:00",value:"10:00"},{label:"11:00",value:"11:00"},{label:"14:00",value:"14:00"},{label:"15:00",value:"15:00"},{label:"16:00",value:"16:00"},{label:"17:00",value:"17:00"},{label:"18:00",value:"18:00"},{label:"19:00",value:"19:00"},{label:"20:00",value:"20:00"}]),F=D(()=>{var a;return((a=i.value)==null?void 0:a.price)||0}),h=D(()=>i.value&&v.value&&g.value&&C.value&&r.value.name),U=a=>{i.value=a},L=a=>{v.value=a},R=a=>{const e=new Date(a);g.value=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,m.value=!1},j=a=>{C.value=a.value[0],p.value=!1},A=()=>{k.info("地址选择功能开发中")},E=()=>{if(!h.value){k.info("请完善订单信息");return}k.loading("提交中..."),setTimeout(()=>{k.success("订单提交成功"),x.push("/order/pay/1")},1e3)};if(c.query.serviceId){const a=y.value.find(e=>e.id===Number(c.query.serviceId));a&&(i.value=a)}if(c.query.techId){const a=w.value.find(e=>e.id===Number(c.query.techId));a&&(v.value=a)}return(a,e)=>{const M=s("t-navbar"),O=s("t-radio"),_=s("t-cell"),Y=s("t-cell-group"),S=s("t-icon"),G=s("t-textarea"),H=s("t-button"),J=s("t-date-time-picker"),K=s("t-picker");return u(),b("div",te,[o(M,{title:"预约服务","left-arrow":"",onLeftClick:e[0]||(e[0]=t=>W(x).back())}),l("div",le,[e[6]||(e[6]=l("div",{class:"card-title"},"选择服务",-1)),o(Y,null,{default:V(()=>[(u(!0),b(q,null,I(y.value,t=>{var d;return u(),Z(_,{key:t.id,title:t.name,description:`${t.duration}分钟`,note:`¥${t.price}`,class:z({selected:((d=i.value)==null?void 0:d.id)===t.id}),onClick:f=>U(t)},{"left-icon":V(()=>{var f;return[o(O,{checked:((f=i.value)==null?void 0:f.id)===t.id},null,8,["checked"])]}),_:2},1032,["title","description","note","class","onClick"])}),128))]),_:1})]),l("div",ae,[e[7]||(e[7]=l("div",{class:"card-title"},"选择技师",-1)),l("div",ne,[(u(!0),b(q,null,I(w.value,t=>{var d;return u(),b("div",{key:t.id,class:z(["tech-item",{selected:((d=v.value)==null?void 0:d.id)===t.id}]),onClick:f=>L(t)},[l("div",se,[o(S,{name:"user",size:"24px"})]),l("div",ie,$(t.name),1),l("div",re,[o(S,{name:"star-filled",size:"10px"}),N(" "+$(t.rating),1)])],10,oe)}),128))])]),l("div",de,[e[8]||(e[8]=l("div",{class:"card-title"},"选择时间",-1)),o(_,{title:"预约日期",note:g.value||"请选择",arrow:"",onClick:e[1]||(e[1]=t=>m.value=!0)},null,8,["note"]),o(_,{title:"预约时段",note:C.value||"请选择",arrow:"",onClick:e[2]||(e[2]=t=>p.value=!0)},null,8,["note"])]),l("div",ue,[e[9]||(e[9]=l("div",{class:"card-title"},"服务地址",-1)),o(_,{title:r.value.name?`${r.value.name} ${r.value.phone}`:"请选择地址",description:r.value.detail,arrow:"",onClick:A},null,8,["title","description"])]),l("div",ce,[e[10]||(e[10]=l("div",{class:"card-title"},"备注",-1)),o(G,{modelValue:T.value,"onUpdate:modelValue":e[3]||(e[3]=t=>T.value=t),placeholder:"请输入备注信息（选填）",maxlength:200},null,8,["modelValue"])]),l("div",ve,[l("div",me,[e[11]||(e[11]=l("span",{class:"price-label"},"合计",-1)),l("span",pe,"¥"+$(F.value),1)]),o(H,{theme:"primary",size:"large",disabled:!h.value,onClick:E},{default:V(()=>[...e[12]||(e[12]=[N(" 提交订单 ",-1)])]),_:1},8,["disabled"])]),o(J,{modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=t=>m.value=t),title:"选择日期",mode:"date",value:B.value,onConfirm:R},null,8,["modelValue","value"]),o(K,{modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=t=>p.value=t),title:"选择时段",columns:P.value,onConfirm:j},null,8,["modelValue","columns"])])}}},ge=ee(_e,[["__scopeId","data-v-1447a9b7"]]);export{ge as default};
