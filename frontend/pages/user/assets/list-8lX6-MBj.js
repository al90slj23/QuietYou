import{r as y,v as P,c as g,b as n,e as s,l as r,x as d,f as u,i as m,F as D,g as A,j as F,k as o,u as I,t as i,y as j,p as _,z as h,D as q,T as C}from"./index-C4JFp0gR.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"order-list-page"},M={class:"order-list"},R=["onClick"],U={class:"order-header"},G={class:"order-shop"},H={class:"order-content"},J={class:"order-image"},K={class:"order-info"},Q={class:"order-service"},W={class:"order-tech"},X={class:"order-time"},Y={class:"order-price"},Z={class:"price"},ee={class:"order-actions"},te={__name:"list",setup(se){const f=F(),c=y("all"),N=y([{id:1,shopName:"康乐养生馆",serviceName:"全身中式推拿",techName:"张师傅",serviceTime:"2026-01-12 14:00",amount:298,status:"pending",icon:"gesture-press",reviewed:!1},{id:2,shopName:"悦享SPA会所",serviceName:"精油香薰SPA",techName:"李师傅",serviceTime:"2026-01-10 16:00",amount:458,status:"confirmed",icon:"flower",reviewed:!1},{id:3,shopName:"康乐养生馆",serviceName:"肩颈深度调理",techName:"张师傅",serviceTime:"2026-01-08 10:00",amount:198,status:"completed",icon:"heart",reviewed:!1},{id:4,shopName:"舒心按摩店",serviceName:"足底反射疗法",techName:"陈师傅",serviceTime:"2026-01-05 15:00",amount:168,status:"completed",icon:"service",reviewed:!0},{id:5,shopName:"康乐养生馆",serviceName:"背部推拿放松",techName:"王师傅",serviceTime:"2026-01-03 11:00",amount:218,status:"cancelled",icon:"gesture-press",reviewed:!1}]),k=P(()=>c.value==="all"?N.value:N.value.filter(t=>t.status===c.value)),b=t=>{c.value=t},w=t=>({pending:"待支付",confirmed:"待服务",in_progress:"服务中",completed:"已完成",cancelled:"已取消"})[t]||t,T=t=>({pending:"warning",confirmed:"primary",in_progress:"primary",completed:"success",cancelled:"default"})[t]||"default",x=t=>{f.push(`/order/pay/${t.id}`)},z=t=>{q.confirm({title:"取消订单",content:"确定要取消该订单吗？",confirmBtn:"确定",cancelBtn:"取消"}).then(()=>{t.status="cancelled",C.success("订单已取消")})},S=t=>{C.info("评价功能开发中")},V=t=>{f.push({path:"/order/create",query:{serviceId:1}})};return(t,a)=>{const l=m("t-tab-panel"),$=m("t-tabs"),B=m("t-icon"),p=m("t-button"),O=m("t-empty");return o(),g("div",L,[n($,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),onChange:b},{default:u(()=>[n(l,{value:"all",label:"全部"}),n(l,{value:"pending",label:"待支付"}),n(l,{value:"confirmed",label:"待服务"}),n(l,{value:"completed",label:"已完成"}),n(l,{value:"cancelled",label:"已取消"})]),_:1},8,["modelValue"]),s("div",M,[(o(!0),g(D,null,A(k.value,e=>(o(),g("div",{key:e.id,class:"order-card",onClick:v=>I(f).push(`/order/detail/${e.id}`)},[s("div",U,[s("span",G,i(e.shopName),1),s("span",{class:j(["order-status",T(e.status)])},i(w(e.status)),3)]),s("div",H,[s("div",J,[n(B,{name:e.icon,size:"32px"},null,8,["name"])]),s("div",K,[s("div",Q,i(e.serviceName),1),s("div",W,"技师："+i(e.techName),1),s("div",X,i(e.serviceTime),1)]),s("div",Y,[s("span",Z,i(e.amount),1)])]),s("div",ee,[e.status==="pending"?(o(),r(p,{key:0,size:"small",theme:"primary",onClick:h(v=>x(e),["stop"])},{default:u(()=>[...a[1]||(a[1]=[_(" 去支付 ",-1)])]),_:1},8,["onClick"])):d("",!0),e.status==="pending"?(o(),r(p,{key:1,size:"small",variant:"outline",onClick:h(v=>z(e),["stop"])},{default:u(()=>[...a[2]||(a[2]=[_(" 取消订单 ",-1)])]),_:1},8,["onClick"])):d("",!0),e.status==="completed"&&!e.reviewed?(o(),r(p,{key:2,size:"small",theme:"primary",onClick:h(v=>S(),["stop"])},{default:u(()=>[...a[3]||(a[3]=[_(" 去评价 ",-1)])]),_:1},8,["onClick"])):d("",!0),e.status==="completed"?(o(),r(p,{key:3,size:"small",variant:"outline",onClick:h(v=>V(),["stop"])},{default:u(()=>[...a[4]||(a[4]=[_(" 再次预约 ",-1)])]),_:1},8,["onClick"])):d("",!0)])],8,R))),128))]),k.value.length===0?(o(),r(O,{key:0,description:"暂无订单"})):d("",!0)])}}},ne=E(te,[["__scopeId","data-v-85103e55"]]);export{ne as default};
